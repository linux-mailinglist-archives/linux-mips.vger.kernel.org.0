Return-Path: <linux-mips-owner@vger.kernel.org>
X-Original-To: lists+linux-mips@lfdr.de
Delivered-To: lists+linux-mips@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id E315B2483F3
	for <lists+linux-mips@lfdr.de>; Tue, 18 Aug 2020 13:35:46 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726647AbgHRLfh (ORCPT <rfc822;lists+linux-mips@lfdr.de>);
        Tue, 18 Aug 2020 07:35:37 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:52262 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726671AbgHRLeJ (ORCPT
        <rfc822;linux-mips@vger.kernel.org>); Tue, 18 Aug 2020 07:34:09 -0400
Received: from mail-ed1-x536.google.com (mail-ed1-x536.google.com [IPv6:2a00:1450:4864:20::536])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id D0FD0C061342
        for <linux-mips@vger.kernel.org>; Tue, 18 Aug 2020 04:34:02 -0700 (PDT)
Received: by mail-ed1-x536.google.com with SMTP id cq28so14963775edb.10
        for <linux-mips@vger.kernel.org>; Tue, 18 Aug 2020 04:34:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:from:date:message-id:subject:to;
        bh=lwFzNVoRwddBB/TDf9d34KZm+HY66MZbVl/f7VC3N7M=;
        b=pTXpwEjg+pV0Ah2ntE9DXy0vt92HiaSpKNJk4DHZGs5JGuBbRanTaDsgu4M8x6IHI9
         xH9btOyMWlhN1nFr/34eeJmMyxWbR6uRmfAQ+lHh50Lio2J4BWeTLTpMs/+VYXH4X4z3
         bFazYb9+phkobfG3YqkurjGFshQ6f0n/RdbXzg4ccaAbL5fVgRHXdatE1XdnvsGptPFQ
         mfSecx+6MkufgmwXxKst8nkDjRxjgwZhddjOaZYL3GfpdUI7V38LcVYvy4Q7vTAuqIv/
         3ezoq4tlP+vPCZZI0eO7HJNlAucaT2me3VlVNnCLD1sru8ZpDur/0/ZqAzho21+p9Elh
         9K+Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=lwFzNVoRwddBB/TDf9d34KZm+HY66MZbVl/f7VC3N7M=;
        b=V9sXIn0nU0x7zCkMwWu/nKvgXAZSY9N6ZkRznNgc6ltL2kUGQTLhKcYPMge0vyqsK6
         ylnUZggLnLFZJztr+lPNjsNP2tHp2XLkdeA7XJ087zVPV1kyGcbFUxO66PIogfqZcE6u
         dHHRH72XVRH+QYVZeCEfqOzxYFbZIRiTVEISprj75xs8hGP1K74hOobd7/8jtXfYumAe
         deFxb9s9CdAGJX1NabMFXWguQ6AZyJS0pjTQS1Al6j+FbqjqnDdxA+gSyr54A/v4EQAQ
         /Ldm+p/j+zXXI+vg6aItm08fI04i5JlDLHND3ZO0i+1l5V4Hnq/hzIkKU1ePeLbuesn1
         8UDw==
X-Gm-Message-State: AOAM531AoiCJXdxUSLuq444ur2gZoqQiMe8taY0Wmj7Pmx060oVz29Ic
        pRFFyDr7ZmWXu83Fn79w6j/Q2EvuE3WN9AKE3U1xpETpm+lFpw==
X-Google-Smtp-Source: ABdhPJxTcS/DfBe/a3p4fFGsd+0IgsFzYYshn45yOLysjyR3c5WEyxcpTe+aW5J2IHQOZKdTilgrYvjf71IMLkZvsY0=
X-Received: by 2002:a05:6402:1846:: with SMTP id v6mr19464348edy.179.1597750436283;
 Tue, 18 Aug 2020 04:33:56 -0700 (PDT)
MIME-Version: 1.0
From:   Guruswamy Basavaiah <guru2018@gmail.com>
Date:   Tue, 18 Aug 2020 17:03:44 +0530
Message-ID: <CAHSpA58o1DOWRVtNJfW57BCnw7FbcqAHDNRzX-coUp9GVqR2hA@mail.gmail.com>
Subject: smp_call_function_many hangs for a moment (from 100millisecond to 1 second)
To:     linux-mips@vger.kernel.org
Content-Type: multipart/mixed; boundary="000000000000328d9505ad2543e1"
Sender: linux-mips-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-mips.vger.kernel.org>
X-Mailing-List: linux-mips@vger.kernel.org

--000000000000328d9505ad2543e1
Content-Type: text/plain; charset="UTF-8"

Hello,
 smp_call_function_many randomly hangs. Attached is the call trace.
 Below is the location where hang happens.
 [<ffffffff809137e0>] smp_call_function_many+0x2b0/0x330

 When disassembled the vmlinux and checked, the hang was in the SYNC
instruction.

Code snippet:
ffffffff809137d8:       8c830018        lw      v1,24(a0)
ffffffff809137dc:       0000000f        sync
ffffffff809137e0:       e860fffd        bbit1
v1,0x0,ffffffff809137d8 <smp_call_function_many+0x2a8>

Is this issue known ? or how to fix this ?
-- 
Guruswamy Basavaiah

--000000000000328d9505ad2543e1
Content-Type: text/plain; charset="US-ASCII"; name="log.txt"
Content-Disposition: attachment; filename="log.txt"
Content-Transfer-Encoding: base64
Content-ID: <f_kdzv5pxk0>
X-Attachment-Id: f_kdzv5pxk0

SnVsIDMxIDEzOjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAgMzAyLjI3NjE1MF0gdGFzazog
ODAwMDAwMDdmOTZmMGQ4MCB0aTogODAwMDAwMDdmMzIxMDAwMCB0YXNrLnRpOiA4MDAwMDAwN2Yz
MjEwMDAwCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYxNTdd
ICQgMCAgIDogMDAwMDAwMDAwMDAwMDAwMCBmZmZmZmZmZjgwODY0YTUwIDAwMDAwMDAwMDAwMDAw
MDIgMDAwMDAwMDAwMDAwMDAwMwpKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVsOiBb
ICAzMDIuMjc2MTY2XSAkIDQgICA6IDgwMDAwMDAwYzlkZDhkNDAgMDAwMDAwMDAwMDAwMDAwMiAw
MDAwMDAwMDAwMDAwMDAyIDAwMDAwMDAwMDAwMDAwMDAKSnVsIDMxIDEzOjIzOjEyLjA4NzE0MCB3
YXJuIGtlcm5lbDogWyAgMzAyLjI3NjE3M10gJCA4ICAgOiAwMDAwMDAwMDBmZmZiZmZmIDgwMDAw
MDAwYzUxOTQyYjAgMDAwMDAwMWUzZjM2MDIwZCA4MDAwMDAwMGE1ZDE3MDAzCkp1bCAzMSAxMzoy
MzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYxODBdICQxMiAgIDogMDAwMDAwMDAw
MDAwMDAwMCAwMDAwMDAwMDEwMDAwMDFlIDAwMDAwMDAxMjJhY2QwMzcgMDAwMDAwMDAwMDAwMDAy
OQpKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVsOiBbICAzMDIuMjc2MTg3XSAkMTYg
ICA6IDgwMDAwMDAwYzlmNGZkNDAgZmZmZmZmZmY4MTA3NDY2MCA4MDAwMDAwMGM5ZTg5MjAwIGZm
ZmZmZmZmODEwNzAwMDAKSnVsIDMxIDEzOjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAgMzAy
LjI3NjE5NF0gJDIwICAgOiA4MDAwMDAwMGM5ZTg5MjA4IDAwMDAwMDAwMDAwMDAwMDEgMDAwMDAw
MDAwMDAwMDEwMCAwMDAwMDAwMDAwMDAwMDIwCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBr
ZXJuZWw6IFsgIDMwMi4yNzYyMDNdICQyNCAgIDogMDAwMDAwMDAwMDAwMDAwMCAwMDAwMDBmZmU5
YWZkYmUwCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYyMTBd
ICQyOCAgIDogODAwMDAwMDdmMzIxMDAwMCA4MDAwMDAwN2YzMjEzYjAwIDgwMDAwMDA3ZjMyMTNi
NzAgZmZmZmZmZmY4MDkxMzdhNApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVsOiBb
ICAzMDIuMjc2MjExXSBIaSAgICA6IDAwMDAwMDAwMDAzM2I3OGEKSnVsIDMxIDEzOjIzOjEyLjA4
NzE0MCB3YXJuIGtlcm5lbDogWyAgMzAyLjI3NjIxMl0gTG8gICAgOiAwMDAwMDAwMDAwMDAwMzJi
Ckp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYyMTldIGVwYyAg
IDogZmZmZmZmZmY4MDkxMzdlMCBzbXBfY2FsbF9mdW5jdGlvbl9tYW55KzB4MmIwLzB4MzMwCkp1
bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYyMjRdIHJhICAgIDog
ZmZmZmZmZmY4MDkxMzdhNCBzbXBfY2FsbF9mdW5jdGlvbl9tYW55KzB4Mjc0LzB4MzMwCkp1bCAz
MSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYyMzFdIFN0YXR1czogMTAw
MDhjZTNLWCBTWCBVWCBLRVJORUwgRVhMIElFCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBr
ZXJuZWw6IFsgIDMwMi4yNzYyMzJdIENhdXNlIDogMDA4MDA4MDAgKEV4Y0NvZGUgMDApCkp1bCAz
MSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYyMzZdIFBySWQgIDogMDAw
ZDkxMDkgKENhdml1bSBPY3Rlb24gSUkpCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJu
ZWw6IFsgIDMwMi4yNzYyNDBdIENQVTogMTQgUElEOiA3ODEwIENvbW06IEhBU05vZGVBZ2VudCBU
YWludGVkOiBHICAgICAgICAgICBPICAgIDQuNC4yMjctb2N0ZW9uLWRpc3Ryby5naXQtdjIuMTA1
LTEtcmMtd25kICMxCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4y
NzYzMDRdIFN0YWNrIDogMDAwMDAwMDAwMDAwMDAwMCAwMDAwMDAwMDAwMDAwMDA0IDAwMDAwMDAw
MDAwMDAwMDYgMDAwMDAwMDAwMDAwMDAwMApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2Vy
bmVsOiBbICAzMDIuMjc2MzA0XSAgIGZmZmZmZmZmODFjZmE1ZTAgZmZmZmZmZmY4MTE0ZWEzOCBm
ZmZmZmZmZjgxMTRlYTM4IGZmZmZmZmZmODA4ZTAwODQKSnVsIDMxIDEzOjIzOjEyLjA4NzE0MCB3
YXJuIGtlcm5lbDogWyAgMzAyLjI3NjMwNF0gICAwMDAwMDAwMDAwMDAwMDA0IGZmZmZmZmZmODEx
NTAwMDAgZmZmZmZmZmY4MWQxOTE0MCBmZmZmZmZmZjgwOGU1YjNjCkp1bCAzMSAxMzoyMzoxMi4w
ODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYzMDRdICAgMDAwMDAwMDAwMDAwMDAwMCAwMDAw
MDAwMDAwMDAwMDZiIDAwMDAwMDAwMDAwMDAwMGUgZmZmZmZmZmY4MDhlNzNkNApKdWwgMzEgMTM6
MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVsOiBbICAzMDIuMjc2MzA0XSAgIDAwMDAwMDAwMDAwMDAw
MDAgMDAwMDAwMDAwMDAwMDAwMCBmZmZmZmZmZjgxY2UwMDAwIGZmZmZmZmZmODFjZDJhZjgKSnVs
IDMxIDEzOjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAgMzAyLjI3NjMwNF0gICBmZmZmZmZm
ZjgxMDdhYjA3IGZmZmZmZmZmODBmYjI0YjAgODAwMDAwMDdmOTZmMGQ4MCBmZmZmZmZmZjgxY2Qy
YWY4Ckp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYzMDRdICAg
MDAwMDAwMDAwMDAwMWU4MiAwMDAwMDAwMDAwMDAwMDBlIGZmZmZmZmZmODFjY2U0MDAgODAwMDAw
MDdmZjEyMDYwMApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVsOiBbICAzMDIuMjc2
MzA0XSAgIDgwMDAwMDA3ZjMyMTNiNzAgODAwMDAwMDdmZjBkYmNiMCA4MDAwMDAwN2ZmMGRiZGM4
IGZmZmZmZmZmODBiNTgyMzgKSnVsIDMxIDEzOjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAg
MzAyLjI3NjMwNF0gICAwMDAwMDAwMDAwMDAwMDAwIGZmZmZmZmZmODA4ZTg1ODQgMDAwMDAwNDY2
MTExNTNhOSBmZmZmZmZmZjgwZmIyNGIwCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJu
ZWw6IFsgIDMwMi4yNzYzMDRdICAgMDAwMDAwMDAwMDAwMDAwZSBmZmZmZmZmZjgwODcyZTAwIDAw
MDAwMDAwMDAwMDAwMDAgMDAwMDAwMDAwMDAwMDAwMApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdh
cm4ga2VybmVsOiBbICAzMDIuMjc2MzA0XSAgIC4uLgpKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdh
cm4ga2VybmVsOiBbICAzMDIuMjc2MzA3XSBDYWxsIFRyYWNlOgpKdWwgMzEgMTM6MjM6MTIuMDg3
MTQwIHdhcm4ga2VybmVsOiBbICAzMDIuMjc2MzEyXSBbPGZmZmZmZmZmODA4NzJlMDA+XSBzaG93
X3N0YWNrKzB4OTgvMHhiOApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVsOiBbICAz
MDIuMjc2MzE4XSBbPGZmZmZmZmZmODBiNTgyMzg+XSBkdW1wX3N0YWNrKzB4ZTgvMHgxNzAKSnVs
IDMxIDEzOjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAgMzAyLjI3NjMyM10gWzxmZmZmZmZm
ZjgwODZlN2IwPl0gYXJjaF9kdW1wX3N0YWNrKzB4NTgvMHhjMApKdWwgMzEgMTM6MjM6MTIuMDg3
MTQwIHdhcm4ga2VybmVsOiBbICAzMDIuMjc2MzI5XSBbPGZmZmZmZmZmODA5MTJkZTA+XSBmbHVz
aF9zbXBfY2FsbF9mdW5jdGlvbl9xdWV1ZSsweGQ4LzB4MTkwCkp1bCAzMSAxMzoyMzoxMi4wODcx
NDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYzMzZdIFs8ZmZmZmZmZmY4MDg2NDg0Yz5dIG1haWxi
b3hfaW50ZXJydXB0KzB4MTA0LzB4MWQwCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJu
ZWw6IFsgIDMwMi4yNzYzNDFdIFs8ZmZmZmZmZmY4MDhlOTIyYz5dIGhhbmRsZV9pcnFfZXZlbnRf
cGVyY3B1KzB4ODQvMHgyYjAKSnVsIDMxIDEzOjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAg
MzAyLjI3NjM0N10gWzxmZmZmZmZmZjgwOGVkZjhjPl0gaGFuZGxlX3BlcmNwdV9pcnErMHg4Yy8w
eGMwCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzYzNTNdIFs8
ZmZmZmZmZmY4MDhlODY5ND5dIGdlbmVyaWNfaGFuZGxlX2lycSsweDQ0LzB4NTgKSnVsIDMxIDEz
OjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAgMzAyLjI3NjM1OV0gWzxmZmZmZmZmZjgwZTI1
ZThjPl0gZG9fSVJRKzB4MjQvMHgzMApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVs
OiBbICAzMDIuMjc2Mzc4XSBbPGZmZmZmZmZmODA4MDZhNTQ+XSBvY3Rlb25faXJxX2NpdTJfbWJv
eCsweDZjLzB4MTAwCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4y
NzYzODNdIFs8ZmZmZmZmZmY4MDgwN2RkYz5dIHBsYXRfaXJxX2Rpc3BhdGNoKzB4ZGMvMHgxNDgK
SnVsIDMxIDEzOjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAgMzAyLjI3NjM4N10gWzxmZmZm
ZmZmZjgwODZjNTE0Pl0gaGFuZGxlX2ludCsweDE5NC8weDFhMApKdWwgMzEgMTM6MjM6MTIuMDg3
MTQwIHdhcm4ga2VybmVsOiBbICAzMDIuMjc2MzkzXSBbPGZmZmZmZmZmODA5MTM3ZTA+XSBzbXBf
Y2FsbF9mdW5jdGlvbl9tYW55KzB4MmIwLzB4MzMwCkp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2Fy
biBrZXJuZWw6IFsgIDMwMi4yNzYzOThdIFs8ZmZmZmZmZmY4MDkxMzg5ND5dIHNtcF9jYWxsX2Z1
bmN0aW9uKzB4MzQvMHg0OApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVsOiBbICAz
MDIuMjc2NDA1XSBbPGZmZmZmZmZmODA4NzhiZWM+XSBmbHVzaF90bGJfcGFnZSsweDZjLzB4MTIw
Ckp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMwMi4yNzY0MTFdIFs8ZmZm
ZmZmZmY4MDliYmU1OD5dIHB0ZXBfc2V0X2FjY2Vzc19mbGFncysweDgwLzB4ZDAKSnVsIDMxIDEz
OjIzOjEyLjA4NzE0MCB3YXJuIGtlcm5lbDogWyAgMzAyLjI3NjQxOV0gWzxmZmZmZmZmZjgwOWE4
ODE0Pl0gZG9fd3BfcGFnZSsweDEyYy8weDg2MApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4g
a2VybmVsOiBbICAzMDIuMjc2NDI1XSBbPGZmZmZmZmZmODA5YWI5Zjg+XSBoYW5kbGVfbW1fZmF1
bHQrMHhlZTgvMHgxNmE4Ckp1bCAzMSAxMzoyMzoxMi4wODcxNDAgd2FybiBrZXJuZWw6IFsgIDMw
Mi4yNzY0MzFdIFs8ZmZmZmZmZmY4MDg4NDdkMD5dIF9fZG9fcGFnZV9mYXVsdCsweDFhMC8weDU5
OApKdWwgMzEgMTM6MjM6MTIuMDg3MTQwIHdhcm4ga2VybmVsOiBbICAzMDIuMjc2NDM2XSBbPGZm
ZmZmZmZmODA4NmJmYzA+XSByZXRfZnJvbV9leGNlcHRpb24rMHgwLzB4MTgKCg==
--000000000000328d9505ad2543e1--
